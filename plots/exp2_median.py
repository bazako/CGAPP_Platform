#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Mon Jan 30 19:39:11 2023

@author: ubuntujuanma


"""


import pandas as pd
import matplotlib.pyplot as plt
import numpy as np


ratios = [0.00,0.01,0.01,0.02,0.05,0.08,0.10,0.20,0.30,0.40,0.50,0.60,0.70,0.80,0.90,1.00]


Ids=['ID 1', 'ID 2','ID 8','ID 11','ID 20','ID 21']

Ids_at=['ID 3', 'ID 4','ID 12','ID 19']

colors = ['green', 'blue', 'purple', 'cyan', 'lime', 'grey', 'orange', 'red', 'brown', 'pink'] 

FNR3=np.array([
    [0.1,0.1,0.1,0.1,0.1,0.1],
    [10.5,10.1,10.6,12.2,9.1,11.4],
    [13.0,11.6,10.6,10.0,10.8,13.1],
    [11.6,11.5,13.0,13.6,14.0,13.0],
    [13.9,14.7,13.2,16.6,15.8,12.5],
    [23.0,23.1,13.3,17.4,15.7,14.9],
    [19.3,22.3,19.2,18.8,15.1,19.0],
    [28.1,29.4,18.6,29.0,21.6,22.5],
    [33.8,39.1,24.0,24.0,22.3,20.1],
    [33.2,40.9,25.5,27.7,25.3,27.9],
    [34.6,42.6,26.0,37.7,27.1,24.2],
    [36.0,45.1,24.9,35.6,31.2,26.3],
    [38.7,73.0,30.0,32.5,33.0,28.4],
    [38.9,49.8,30.5,37.9,35.6,29.5],
    [42.0,50.9,33.6,38.0,36.1,25.9],
    [46.1,80.1,33.5,43.1,39.1,33.0]])

FNR4=np.array([
    [28.7,24.3,28.5,28.8,25.6,25.1],
    [28.7,22.1,26.7,25.8,29.1,26.9],
    [25.7,28.0,25.9,27.6,27.5,29.9],
    [25.3,27.5,24.5,27.5,25.8,26.0],
    [26.0,29.0,29.2,29.8,29.1,26.0],
    [29.1,29.2,26.0,29.8,29.3,29.9],
    [29.8,25.8,26.0,25.9,31.4,29.0],
    [26.1,29.8,25.9,29.9,29.2,27.8],
    [29.8,29.8,27.6,29.9,29.9,29.2],
    [29.2,29.9,29.8,29.8,29.3,29.8],
    [29.9,29.8,27.4,29.9,29.9,25.8],
    [31.0,29.8,29.8,29.9,30.8,29.9],
    [31.1,29.8,26.1,29.8,29.9,29.9],
    [30.7,29.8,25.7,29.9,29.9,29.9],
    [31.1,29.8,29.4,29.9,29.8,28.8],
    [29.8,29.8,29.8,29.8,31.5,29.8]])

FNR12=np.array([
    [0.0,0.0,0.0,0.0,0.0,0.0],
    [0.3,0.3,0.1,0.3,0.2,0.3],
    [0.3,0.3,0.2,0.3,0.2,0.3],
    [0.3,0.3,0.2,0.3,0.3,0.3],
    [0.4,0.5,0.3,0.3,0.3,0.3],
    [0.5,0.5,0.3,0.4,0.5,0.4],
    [0.5,0.5,0.3,0.5,0.4,0.4],
    [0.6,1.1,0.4,0.6,0.5,0.5],
    [1.1,1.8,0.5,0.8,0.6,0.6],
    [2.2,4.6,0.6,1.1,1.5,0.6],
    [1.4,9.5,0.6,2.2,1.7,0.7],
    [3.5,9.9,1.0,4.4,1.9,1.1],
    [6.5,43.6,2.0,3.1,2.7,0.9],
    [7.4,43.1,2.1,5.0,4.4,2.0],
    [6.6,19.5,2.1,6.4,6.9,2.2],
    [13.2,31.8,4.4,6.5,5.7,2.3]])

FNR19=np.array([
    [2.7,2.7,2.7,2.8,2.7,3.1],
    [5.7,6.0,4.9,5.6,4.6,4.1],
    [5.6,6.3,5.1,5.9,5.8,5.4],
    [5.7,7.1,5.5,5.7,5.8,5.2],
    [7.3,8.0,6.7,7.0,7.1,6.2],
    [7.6,8.4,7.3,7.4,7.7,6.6],
    [8.1,8.5,7.3,8.1,7.6,6.7],
    [9.4,9.6,8.3,8.5,8.6,8.0],
    [9.7,10.1,8.7,9.3,8.7,8.7],
    [10.3,11.0,9.1,10.1,9.7,9.3],
    [10.4,30.0,9.2,10.3,10.0,9.4],
    [12.8,36.2,9.8,10.7,10.2,9.6],
    [29.7,54.3,9.9,12.1,10.6,9.5],
    [24.7,33.5,10.4,27.0,10.6,10.1],
    [29.3,77.7,10.4,24.2,23.7,10.2],
    [28.7,48.6,10.4,27.7,29.8,10.3]])


TNR3=np.array([
    [96.6,85.1,97.7,79.8,88.2,97.3],
    [96.8,91.9,98.4,78.1,89.2,96.9],
    [96.7,91.2,98.4,78.6,87.6,97.3],
    [97.8,94.5,98.3,78.3,87.9,97.5],
    [97.9,94.6,98.3,79.4,88.4,96.7],
    [99.1,95.3,98.1,78.4,88.1,97.7],
    [98.9,96.4,98.3,78.6,88.6,97.4],
    [99.2,97.0,98.4,78.1,88.6,97.2],
    [98.4,97.9,98.7,80.5,89.1,96.9],
    [98.2,98.4,98.5,80.6,89.2,97.1],
    [99.2,98.5,98.5,80.1,89.9,97.6],
    [99.3,98.6,98.6,80.7,90.7,97.4],
    [98.2,99.3,98.4,92.4,91.0,97.6],
    [99.5,98.9,98.5,92.7,90.6,97.3],
    [99.3,99.4,98.9,91.7,91.5,98.6],
    [99.5,99.2,98.6,93.0,91.5,97.7]])

TNR4=np.array([
    [97.1,84.9,97.3,79.7,88.7,97.6],
    [94.4,82.9,97.8,84.9,86.4,97.0],
    [93.6,84.4,96.6,85.1,85.8,97.8],
    [95.6,83.4,93.9,84.6,86.1,96.0],
    [95.8,85.6,97.7,84.7,85.8,96.0],
    [94.3,86.9,96.6,84.6,86.2,96.7],
    [93.8,86.2,96.5,84.5,85.6,95.8],
    [95.2,87.6,95.9,85.2,86.5,96.1],
    [95.7,91.7,97.4,85.6,86.1,96.1],
    [93.5,93.2,97.8,85.8,86.4,96.7],
    [93.9,89.2,97.1,85.1,86.9,96.1],
    [95.1,87.8,97.7,86.9,85.1,97.0],
    [95.9,89.3,95.8,86.6,86.4,96.6],
    [95.1,94.5,95.2,86.5,86.7,96.8],
    [93.2,87.7,98.1,85.0,85.9,96.3],
    [95.6,90.5,97.8,85.9,85.6,96.3]])

TNR12=np.array([
    [96.2,88.1,97.7,79.7,87.9,97.2],
    [97.0,94.0,97.2,89.4,85.0,95.5],
    [97.0,94.6,97.7,89.4,85.2,95.7],
    [97.7,96.4,97.8,89.9,88.7,96.9],
    [98.2,98.3,98.1,92.1,89.3,97.4],
    [99.4,99.2,98.4,93.0,91.5,97.7],
    [99.4,99.4,98.8,94.1,91.0,97.6],
    [99.6,100.0,99.3,96.1,93.4,98.9],
    [99.9,100.0,99.4,96.5,94.1,99.2],
    [100.0,100.0,99.5,97.0,96.5,99.7],
    [100.0,99.9,99.5,97.0,97.8,99.5],
    [100.0,100.0,99.7,97.1,98.0,99.8],
    [100.0,99.3,99.9,97.3,98.1,99.2],
    [100.0,98.4,99.9,97.3,99.4,99.9],
    [100.0,100.0,99.9,97.2,98.8,100.0],
    [100.0,99.4,99.9,97.4,99.9,99.8]])

TNR19=np.array([
    [95.9,84.5,98.2,79.7,88.8,97.5],
    [92.1,84.2,97.2,89.8,85.9,95.9],
    [93.7,85.2,96.9,89.2,85.5,95.9],
    [92.8,86.3,97.7,89.5,86.0,96.3],
    [96.2,90.3,98.3,90.0,86.9,96.0],
    [97.1,91.2,98.9,90.3,87.7,96.6],
    [94.9,90.6,98.3,91.7,88.9,96.8],
    [97.2,95.3,98.5,93.1,90.6,97.2],
    [98.8,95.1,99.1,94.0,91.1,98.6],
    [97.4,92.5,99.3,94.6,91.9,98.1],
    [99.4,96.9,99.3,94.8,93.2,99.0],
    [99.8,96.8,99.5,95.1,91.9,98.9],
    [99.4,89.7,99.4,95.3,93.8,98.4],
    [99.8,97.6,99.6,96.4,93.8,99.3],
    [99.8,95.3,99.5,96.3,89.7,99.2],
    [99.5,97.7,99.4,97.0,95.1,99.3]])



TNR = [TNR3, TNR4, TNR12, TNR19]
FNR = [FNR3, FNR4, FNR12, FNR19]

fig, ax = plt.subplots(4,2, figsize=(9,15), constrained_layout=False, sharey=False, sharex=False, tight_layout=False)
fig.suptitle('FNR and TNR for Injection Attacks at different ratios', fontsize=16)
fig.subplots_adjust(top=0.92)
fig.subplots_adjust(wspace=0.3)
fig.subplots_adjust(hspace=0.3)
# fig.supxlabel('Ratio')
# fig.supylabel('Ratio')
# 
# ax.set_ylabel("FNR ],")
# ax.set_xlabel("Outsiders users")

for i in range(0,4): 
    
    for j in range(0,6):
        ax[i,0].plot(ratios, FNR[i][:,j], color=colors[j], linestyle='solid', marker='o',linewidth=3, markersize=5)
        ax[i,1].plot(ratios, TNR[i][:,j], color=colors[j], linestyle='solid', marker='o',linewidth=3, markersize=5)
    ax[i,0].set_ylim([0, 90])
    ax[i,1].set_ylim([75, 100])
    
    
    ax[i,0].set_title("Attacker " + Ids_at[i])
    ax[i,1].set_title("Attacker " + Ids_at[i])
    ax[i,0].set_ylabel("FNR ],")
    ax[i,1].set_ylabel("TNR ],")



    ax[i,1].legend(Ids)
    ax[i,0].legend(Ids)
# ax.set_xticks(ticks=[1.5, 6.5, 11.5,16.5])
# ax.set_xticklabels(IDS)

fig.savefig('exp2_mediam.pdf',bbox_inches="tight") 
					
					
					
