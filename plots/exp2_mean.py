#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Mon Jan 30 19:39:11 2023

@author: ubuntujuanma


"""


import pandas as pd
import matplotlib.pyplot as plt
import numpy as np


ratios = [0.00,0.01,0.01,0.02,0.05,0.08,0.10,0.20,0.30,0.40,0.50,0.60,0.70,0.80,0.90,1.00]


Ids=['ID 1', 'ID 2','ID 8','ID 11','ID 20','ID 21']

Ids_at=['ID 3', 'ID 4','ID 12','ID 19']

colors = ['green', 'blue', 'purple', 'cyan', 'lime', 'grey', 'orange', 'red', 'brown', 'pink'] 

FNR3=np.array([
    [0.4,0.3,0,0,1.5,0.5],
    [20,19,16,18,11,20],
    [17,17,17,19,18,21],
    [22,25,19,22,22,21],
    [22,27,21,25,25,23],
    [27,35,25,27,28,24],
    [29,34,26,24,25,24],
    [34,43,25,29,27,29],
    [31,52,31,36,29,24],
    [35,73,27,38,34,25],
    [42,73,29,47,37,26],
    [43,71,32,47,42,32],
    [52,74,36,43,40,33],
    [58,76,36,57,44,35],
    [62,82,36,50,46,39],
    [54,76,44,57,50,37]])

FNR4=np.array([
    [19.0,19.1,23,19,22.9,18.8],
    [23,29,28,18,20,19],
    [20,20,25,24,20,24],
    [21,24,19,24,25,24],
    [23,26,20,24,26,21],
    [29,25,23,22,26,26],
    [24,29,25,26,22,27],
    [29,30,25,29,25,20],
    [30,30,25,26,29,21],
    [29,30,26,29,30,26],
    [30,30,28,30,30,26],
    [30,30,30,30,30,26],
    [30,30,30,30,30,30],
    [30,30,30,30,30,30],
    [30,30,30,30,30,30],
    [30,30,30,30,30,30]])

FNR12=np.array([
    [0,0,0,0,0,0],
    [0,0,0,0,0,0],
    [0,0,0,0,0,0],
    [0,0,0,0,0,0],
    [0,1,0,0,0,0],
    [0,1,0,0,0,0],
    [1,1,0,0,0,0],
    [1,4,0,1,1,1],
    [1,2,1,1,1,1],
    [1,22,1,1,1,1],
    [33,43,1,1,3,1],
    [5,54,1,11,1,1],
    [27,48,1,27,20,1],
    [6,50,2,5,2,1],
    [26,44,3,25,4,8],
    [28,55,3,12,31,2]])

FNR19=np.array([
    [2.8,2.8,2.8,2.8,2.9,2.8],
    [5,5,5,5,4,4],
    [5,6,5,6,5,5],
    [6,7,5,6,5,5],
    [7,8,6,7,7,6],
    [7,8,7,7,7,7],
    [8,8,7,8,7,7],
    [9,10,8,9,8,8],
    [10,17,8,10,9,8],
    [10,16,9,10,10,9],
    [10,64,9,10,10,9],
    [14,63,10,13,10,10],
    [21,76,10,11,11,10],
    [34,79,10,18,11,10],
    [31,79,10,17,33,10],
    [58,82,12,65,16,10]])


TNR3=np.array([
    [97.7,92.5,96,78,87.7,96.5],
    [98.6,95.6,98,78,87.6,96.3],
    [97.8,96.4,98,78,88.3,96.1],
    [98.1,96.9,98,78,87.5,96.4],
    [98.0,96.9,98,78,87.9,97.1],
    [98.2,97.0,98,78,88.7,96.5],
    [98.7,97.5,98,78,88.5,96.7],
    [98.3,98.7,98,79,87.8,97.3],
    [98.2,99.1,99,79,87.6,97.4],
    [98.3,98.7,98,79,88.6,96.6],
    [98.3,99.1,98,79,90.2,96.8],
    [98.2,99.2,98,79,87.9,96.7],
    [98.4,98.8,99,91,88.9,97.2],
    [98.2,98.7,98,90,89.6,97.5],
    [98.2,98.0,98,90,90.1,97.5],
    [98.4,97.5,98,90,90.9,97.0]])

TNR4=np.array([
    [98.7,92.2,96,78,87.8,96.4],
    [97,93,98,84,86,96],
    [97,90,95,85,87,97],
    [97,92,92,84,86,95],
    [97,92,95,86,86,95],
    [98,91,93,85,87,96],
    [97,92,95,86,87,95],
    [97,91,95,86,87,96],
    [97,88,95,87,87,96],
    [97,88,97,86,86,96],
    [97,95,98,86,88,96],
    [97,89,97,86,87,96],
    [98,91,98,86,87,97],
    [97,87,97,85,87,96],
    [97,89,98,86,87,97],
    [98,91,98,86,88,96]])

TNR12=np.array([
    [98,92,95,78,88,97],
    [97,95,97,89,85,96],
    [98,96,97,89,87,95],
    [98,97,97,90,87,97],
    [98,99,98,90,90,98],
    [99,99,98,92,91,98],
    [100,99,99,93,92,98],
    [100,97,99,95,93,99],
    [99,100,99,95,92,99],
    [100,98,100,94,94,99],
    [99,99,100,95,92,99],
    [99,98,99,92,94,100],
    [98,99,99,92,91,100],
    [99,99,100,95,94,99],
    [98,99,100,92,95,98],
    [98,99,99,93,91,99]])

TNR19=np.array([
    [97.8,94.9,95.0,77.8,88.8,96.7],
    [96.1,91.5,96.6,89.3,85.3,93.9],
    [97.5,90.5,95.1,89.4,86.1,94.8],
    [96.7,92.6,96.9,89.8,86.6,95.5],
    [97.7,95.1,97.9,89.9,87.0,96.3],
    [98.0,94.8,97.2,90.3,88.8,96.0],
    [98.0,95.0,97.6,90.3,88.5,96.1],
    [99.4,97.6,99.0,92.5,89.9,96.4],
    [99.4,95.3,99.0,93.5,91.7,97.7],
    [97.9,94.7,99.3,94.0,92.0,97.9],
    [98.2,96.2,99.1,93.9,91.4,98.7],
    [98.2,93.2,99.2,93.3,92.1,99.0],
    [97.5,94.8,99.3,94.5,93.5,98.8],
    [97.6,92.7,99.1,93.5,93.2,99.0],
    [99.6,94.7,99.1,93.9,90.2,98.7],
    [97.7,94.2,98.9,91.6,89.7,98.5]])



TNR = [TNR3, TNR4, TNR12, TNR19]
FNR = [FNR3, FNR4, FNR12, FNR19]

fig, ax = plt.subplots(4,2, figsize=(9,15), constrained_layout=False, sharey=False, sharex=False, tight_layout=False)
fig.suptitle('FNR and TNR for Injection Attacks at different ratios', fontsize=16)
fig.subplots_adjust(top=0.92)
fig.subplots_adjust(wspace=0.3)
fig.subplots_adjust(hspace=0.3)
# fig.supxlabel('Ratio')
# fig.supylabel('Ratio')
# 
# ax.set_ylabel("FNR %")
# ax.set_xlabel("Outsiders users")

for i in range(0,4): 
    
    for j in range(0,6):
        ax[i,0].plot(ratios, FNR[i][:,j], color=colors[j], linestyle='solid', marker='o',linewidth=3, markersize=5)
        ax[i,1].plot(ratios, TNR[i][:,j], color=colors[j], linestyle='solid', marker='o',linewidth=3, markersize=5)
    ax[i,0].set_ylim([0, 90])
    ax[i,1].set_ylim([75, 100])
    
    
    ax[i,0].set_title("Attacker " + Ids_at[i])
    ax[i,1].set_title("Attacker " + Ids_at[i])
    ax[i,0].set_ylabel("FNR %")
    ax[i,1].set_ylabel("TNR %")



    ax[i,1].legend(Ids)
    ax[i,0].legend(Ids)
# ax.set_xticks(ticks=[1.5, 6.5, 11.5,16.5])
# ax.set_xticklabels(IDS)

fig.savefig('exp2_mean.pdf',bbox_inches="tight") 
					
					
					
